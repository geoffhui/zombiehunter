<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Zombie Hunter</title>
    <link rel="stylesheet" type="text/css" href="./css/style.css"></link>
</head>
<body>
    <img id = "zombie" src = ./images/brand.png onclick = "combine()"></img>
    <audio id = "audio" src = ./src/explosion_sound.mp3></audio>
    <img id = "explode" src = ./images/explosion.gif></img>
    <p id = "score">Score: 0</p>
    <button type = "button" id = "btn" onclick = "reset()">Reset</button>

    <script>
        let s = 0;
        let width = window.innerWidth - 100;
        let height = window.innerHeight - 100;
        let x = 0;
        let y = 0;
        
        function position(){
            x = Math.random()*height
            y = Math.random()*width
            return x, y
        }

        function change(){
            zombie.style.top = x + "px";
            zombie.style.left = y + "px";
        }

        function show_explode(){
            explode.style.display = "block";
            explode.style.top = x + "px";
            explode.style.left = y + "px";
        }

        function hide_explode(){
            explode.style.display = "none";
        }

        function score(){
            s++;
            document.getElementById("score").innerHTML = "Score: " + s;
        }
        
        function combine(){
            play()
            show_explode()
            setTimeout(hide_explode, 700)
            setTimeout(change, 600)
            position()
            score()
        }

        function reset(){
            s = 0;
            document.getElementById("score").innerHTML = "Score: " + s;
            let zombie = document.getElementById("zombie")
            zombie.style.top = 0;
            zombie.style.left = 0;
            x = 0
            y = 0
        }

        function play() {
            let audio = document.getElementById("audio");
            audio.play();
        }
    </script>
</body>
</html>